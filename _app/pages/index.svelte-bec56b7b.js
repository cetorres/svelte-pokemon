import{S as e,i as s,s as t,e as a,k as o,t as n,c,a as r,d as l,n as i,g as h,N as f,b as u,f as m,G as p,h as g,H as d,C as v,j as k,m as x,o as b,x as E,u as T,v as $,O as P,P as I,Q as N,w as j,R as y,T as D,I as S,r as V,U as O}from"../chunks/vendor-bc7b7cec.js";import{s as U}from"../chunks/api-00c7699c.js";function w(e){let s,t,v,k,x,b,E,T,$,P,I=e[0].name+"";return{c(){s=a("div"),t=a("a"),v=a("p"),k=a("img"),E=o(),T=a("p"),$=n(I),this.h()},l(e){s=c(e,"DIV",{class:!0});var a=r(s);t=c(a,"A",{href:!0});var o=r(t);v=c(o,"P",{});var n=r(v);k=c(n,"IMG",{src:!0,alt:!0}),n.forEach(l),E=i(o),T=c(o,"P",{class:!0});var f=r(T);$=h(f,I),f.forEach(l),o.forEach(l),a.forEach(l),this.h()},h(){f(k.src,x=e[0].image)||u(k,"src",x),u(k,"alt",b=e[0].name),u(T,"class","name svelte-1cnnboh"),u(t,"href",P=`pokemon/${e[0].id}`),u(s,"class","pokemon-item svelte-1cnnboh")},m(e,a){m(e,s,a),p(s,t),p(t,v),p(v,k),p(t,E),p(t,T),p(T,$)},p(e,[s]){1&s&&!f(k.src,x=e[0].image)&&u(k,"src",x),1&s&&b!==(b=e[0].name)&&u(k,"alt",b),1&s&&I!==(I=e[0].name+"")&&g($,I),1&s&&P!==(P=`pokemon/${e[0].id}`)&&u(t,"href",P)},i:d,o:d,d(e){e&&l(s)}}}function B(e,s,t){let{pokemon:a}=s;return e.$$set=e=>{"pokemon"in e&&t(0,a=e.pokemon)},[a]}class C extends e{constructor(e){super(),s(this,e,B,w,t,{pokemon:0})}}const G=function(){const{subscribe:e,set:s}=v([]);return{subscribe:e,search:async(e,t,a)=>s(await U(e,t,a))}}(),H=v({page:1,offset:0,limit:24,searchText:""});function A(e,s,t){const a=e.slice();return a[8]=s[t],a}function M(e){let s,t;return s=new C({props:{pokemon:e[8]}}),{c(){k(s.$$.fragment)},l(e){x(s.$$.fragment,e)},m(e,a){b(s,e,a),t=!0},p(e,t){const a={};2&t&&(a.pokemon=e[8]),s.$set(a)},i(e){t||(E(s.$$.fragment,e),t=!0)},o(e){T(s.$$.fragment,e),t=!1},d(e){$(s,e)}}}function Q(e){let s,t;return{c(){s=a("div"),t=n("No pokemon found."),this.h()},l(e){s=c(e,"DIV",{class:!0});var a=r(s);t=h(a,"No pokemon found."),a.forEach(l),this.h()},h(){u(s,"class","error svelte-j7gy5f")},m(e,a){m(e,s,a),p(s,t)},d(e){e&&l(s)}}}function R(e){let s,t,f,d,v,k,x,b,$,S,O,U,w,B,C,G,H,R,q,z,F,J,K,L,W=e[0].page+"",X=e[1],Y=[];for(let a=0;a<X.length;a+=1)Y[a]=M(A(e,X,a));const Z=e=>T(Y[e],1,1,(()=>{Y[e]=null}));let _=0==e[1].length&&Q();return{c(){s=o(),t=a("section"),f=a("h1"),d=n("Svelte Pokédex"),v=o(),k=a("div"),x=a("input"),b=o(),$=a("div");for(let e=0;e<Y.length;e+=1)Y[e].c();S=o(),_&&_.c(),O=o(),U=a("div"),w=a("button"),B=n("Previous"),G=n("\n\t\tPage: "),H=n(W),R=o(),q=a("button"),z=n("Next"),this.h()},l(e){P('[data-svelte="svelte-1u7sx4l"]',document.head).forEach(l),s=i(e),t=c(e,"SECTION",{});var a=r(t);f=c(a,"H1",{});var o=r(f);d=h(o,"Svelte Pokédex"),o.forEach(l),v=i(a),k=c(a,"DIV",{class:!0});var n=r(k);x=c(n,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),n.forEach(l),b=i(a),$=c(a,"DIV",{class:!0});var u=r($);for(let s=0;s<Y.length;s+=1)Y[s].l(u);u.forEach(l),S=i(a),_&&_.l(a),O=i(a),U=c(a,"DIV",{class:!0});var m=r(U);w=c(m,"BUTTON",{});var p=r(w);B=h(p,"Previous"),p.forEach(l),G=h(m,"\n\t\tPage: "),H=h(m,W),R=i(m),q=c(m,"BUTTON",{});var g=r(q);z=h(g,"Next"),g.forEach(l),m.forEach(l),a.forEach(l),this.h()},h(){document.title="Svelte Pokédex",u(x,"type","text"),u(x,"class","search-text svelte-j7gy5f"),u(x,"placeholder","search"),u(x,"id","search"),u(k,"class","search svelte-j7gy5f"),u($,"class","pokemon-list svelte-j7gy5f"),w.disabled=C=1==e[0].page,q.disabled=F=0==e[1].length,u(U,"class","pagination-container svelte-j7gy5f")},m(a,o){m(a,s,o),m(a,t,o),p(t,f),p(f,d),p(t,v),p(t,k),p(k,x),I(x,e[0].searchText),p(t,b),p(t,$);for(let e=0;e<Y.length;e+=1)Y[e].m($,null);p(t,S),_&&_.m(t,null),p(t,O),p(t,U),p(U,w),p(w,B),p(U,G),p(U,H),p(U,R),p(U,q),p(q,z),J=!0,K||(L=[N(x,"input",e[4]),N(x,"change",e[2]),N(w,"click",e[5]),N(q,"click",e[6])],K=!0)},p(e,[s]){if(1&s&&x.value!==e[0].searchText&&I(x,e[0].searchText),2&s){let t;for(X=e[1],t=0;t<X.length;t+=1){const a=A(e,X,t);Y[t]?(Y[t].p(a,s),E(Y[t],1)):(Y[t]=M(a),Y[t].c(),E(Y[t],1),Y[t].m($,null))}for(V(),t=X.length;t<Y.length;t+=1)Z(t);j()}0==e[1].length?_||(_=Q(),_.c(),_.m(t,O)):_&&(_.d(1),_=null),(!J||1&s&&C!==(C=1==e[0].page))&&(w.disabled=C),(!J||1&s)&&W!==(W=e[0].page+"")&&g(H,W),(!J||2&s&&F!==(F=0==e[1].length))&&(q.disabled=F)},i(e){if(!J){for(let e=0;e<X.length;e+=1)E(Y[e]);J=!0}},o(e){Y=Y.filter(Boolean);for(let s=0;s<Y.length;s+=1)T(Y[s]);J=!1},d(e){e&&l(s),e&&l(t),y(Y,e),_&&_.d(),K=!1,D(L)}}}function q(e,s,t){let a,o;S(e,H,(e=>t(0,a=e))),S(e,G,(e=>t(1,o=e)));const n=()=>{G.search(a.searchText,a.offset,a.limit)},c=e=>{O(H,a.page=a.page+e,a),a.page<1&&O(H,a.page=1,a),O(H,a.offset=1==e?a.offset+a.limit:a.offset-a.limit,a),a.offset<0&&O(H,a.offset=0,a),n()};n();return[a,o,()=>{O(H,a.offset=0,a),O(H,a.page=1,a),n()},c,function(){a.searchText=this.value,H.set(a)},()=>c(-1),()=>c(1)]}class z extends e{constructor(e){super(),s(this,e,q,R,t,{})}}export{z as default};
