import{S as ce,i as fe,s as ue,e as k,k as S,t as B,c as b,a as E,d as p,m as V,h as D,Q as te,b as m,g as J,J as r,j as he,E as ae,w as me,x as _e,y as ge,q as H,o as F,B as ve,P as ke,R as ne,T as G,p as be,U as ye,V as xe,K as se,n as Ee,W as U}from"../chunks/index-38c710bf.js";import{w as pe}from"../chunks/index-d5f9d89f.js";import{s as Pe}from"../chunks/api-00c7699c.js";function je(s){let a,t,e,o,y,_,f,x,v=s[0].name+"",P,d;return{c(){a=k("div"),t=k("a"),e=k("p"),o=k("img"),f=S(),x=k("p"),P=B(v),this.h()},l(c){a=b(c,"DIV",{class:!0});var u=E(a);t=b(u,"A",{href:!0});var j=E(t);e=b(j,"P",{});var N=E(e);o=b(N,"IMG",{src:!0,alt:!0}),N.forEach(p),f=V(j),x=b(j,"P",{class:!0});var q=E(x);P=D(q,v),q.forEach(p),j.forEach(p),u.forEach(p),this.h()},h(){te(o.src,y=s[0].image)||m(o,"src",y),m(o,"alt",_=s[0].name),m(x,"class","name svelte-1cnnboh"),m(t,"href",d=`pokemon/${s[0].id}`),m(a,"class","pokemon-item svelte-1cnnboh")},m(c,u){J(c,a,u),r(a,t),r(t,e),r(e,o),r(t,f),r(t,x),r(x,P)},p(c,[u]){u&1&&!te(o.src,y=c[0].image)&&m(o,"src",y),u&1&&_!==(_=c[0].name)&&m(o,"alt",_),u&1&&v!==(v=c[0].name+"")&&he(P,v),u&1&&d!==(d=`pokemon/${c[0].id}`)&&m(t,"href",d)},i:ae,o:ae,d(c){c&&p(a)}}}function Te(s,a,t){let{pokemon:e}=a;return s.$$set=o=>{"pokemon"in o&&t(0,e=o.pokemon)},[e]}class $e extends ce{constructor(a){super(),fe(this,a,Te,je,ue,{pokemon:0})}}function Ne(){const{subscribe:s,set:a}=pe([]);return{subscribe:s,search:async(t,e,o)=>a(await Pe(t,e,o))}}const oe=Ne(),$=pe({page:1,offset:0,limit:24,searchText:""});function le(s,a,t){const e=s.slice();return e[8]=a[t],e}function re(s){let a,t;return a=new $e({props:{pokemon:s[8]}}),{c(){me(a.$$.fragment)},l(e){_e(a.$$.fragment,e)},m(e,o){ge(a,e,o),t=!0},p(e,o){const y={};o&2&&(y.pokemon=e[8]),a.$set(y)},i(e){t||(H(a.$$.fragment,e),t=!0)},o(e){F(a.$$.fragment,e),t=!1},d(e){ve(a,e)}}}function ie(s){let a,t;return{c(){a=k("div"),t=B("No pokemon found."),this.h()},l(e){a=b(e,"DIV",{class:!0});var o=E(a);t=D(o,"No pokemon found."),o.forEach(p),this.h()},h(){m(a,"class","error svelte-j7gy5f")},m(e,o){J(e,a,o),r(a,t)},d(e){e&&p(a)}}}function we(s){let a,t,e,o,y,_,f,x,v,P,d,c,u,j,N,q,z=s[0].page+"",R,K,T,M,A,w,Q,L,I=s[1],i=[];for(let n=0;n<I.length;n+=1)i[n]=re(le(s,I,n));const de=n=>F(i[n],1,1,()=>{i[n]=null});let g=s[1].length==0&&ie();return{c(){a=S(),t=k("section"),e=k("h1"),o=B("Svelte Pok\xE9dex"),y=S(),_=k("div"),f=k("input"),x=S(),v=k("div");for(let n=0;n<i.length;n+=1)i[n].c();P=S(),g&&g.c(),d=S(),c=k("div"),u=k("button"),j=B("Previous"),q=B(`
		Page: `),R=B(z),K=S(),T=k("button"),M=B("Next"),this.h()},l(n){ke('[data-svelte="svelte-1u7sx4l"]',document.head).forEach(p),a=V(n),t=b(n,"SECTION",{});var l=E(t);e=b(l,"H1",{});var O=E(e);o=D(O,"Svelte Pok\xE9dex"),O.forEach(p),y=V(l),_=b(l,"DIV",{class:!0});var X=E(_);f=b(X,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),X.forEach(p),x=V(l),v=b(l,"DIV",{class:!0});var Y=E(v);for(let W=0;W<i.length;W+=1)i[W].l(Y);Y.forEach(p),P=V(l),g&&g.l(l),d=V(l),c=b(l,"DIV",{class:!0});var C=E(c);u=b(C,"BUTTON",{});var Z=E(u);j=D(Z,"Previous"),Z.forEach(p),q=D(C,`
		Page: `),R=D(C,z),K=V(C),T=b(C,"BUTTON",{});var ee=E(T);M=D(ee,"Next"),ee.forEach(p),C.forEach(p),l.forEach(p),this.h()},h(){document.title="Svelte Pok\xE9dex",m(f,"type","text"),m(f,"class","search-text svelte-j7gy5f"),m(f,"placeholder","search"),m(f,"id","search"),m(_,"class","search svelte-j7gy5f"),m(v,"class","pokemon-list svelte-j7gy5f"),u.disabled=N=s[0].page==1,T.disabled=A=s[1].length==0,m(c,"class","pagination-container svelte-j7gy5f")},m(n,h){J(n,a,h),J(n,t,h),r(t,e),r(e,o),r(t,y),r(t,_),r(_,f),ne(f,s[0].searchText),r(t,x),r(t,v);for(let l=0;l<i.length;l+=1)i[l].m(v,null);r(t,P),g&&g.m(t,null),r(t,d),r(t,c),r(c,u),r(u,j),r(c,q),r(c,R),r(c,K),r(c,T),r(T,M),w=!0,Q||(L=[G(f,"input",s[4]),G(f,"change",s[2]),G(u,"click",s[5]),G(T,"click",s[6])],Q=!0)},p(n,[h]){if(h&1&&f.value!==n[0].searchText&&ne(f,n[0].searchText),h&2){I=n[1];let l;for(l=0;l<I.length;l+=1){const O=le(n,I,l);i[l]?(i[l].p(O,h),H(i[l],1)):(i[l]=re(O),i[l].c(),H(i[l],1),i[l].m(v,null))}for(Ee(),l=I.length;l<i.length;l+=1)de(l);be()}n[1].length==0?g||(g=ie(),g.c(),g.m(t,d)):g&&(g.d(1),g=null),(!w||h&1&&N!==(N=n[0].page==1))&&(u.disabled=N),(!w||h&1)&&z!==(z=n[0].page+"")&&he(R,z),(!w||h&2&&A!==(A=n[1].length==0))&&(T.disabled=A)},i(n){if(!w){for(let h=0;h<I.length;h+=1)H(i[h]);w=!0}},o(n){i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)F(i[h]);w=!1},d(n){n&&p(a),n&&p(t),ye(i,n),g&&g.d(),Q=!1,xe(L)}}}function Ie(s,a,t){let e,o;se(s,$,d=>t(0,e=d)),se(s,oe,d=>t(1,o=d));const y=()=>{U($,e.offset=0,e),U($,e.page=1,e),_()},_=()=>{oe.search(e.searchText,e.offset,e.limit)},f=d=>{U($,e.page=e.page+d,e),e.page<1&&U($,e.page=1,e),U($,e.offset=d==1?e.offset+e.limit:e.offset-e.limit,e),e.offset<0&&U($,e.offset=0,e),_()};_();function x(){e.searchText=this.value,$.set(e)}return[e,o,y,f,x,()=>f(-1),()=>f(1)]}class De extends ce{constructor(a){super(),fe(this,a,Ie,we,ue,{})}}export{De as default};
